services:
  # Minimal Alpine - absolutely minimal system
  alpine-minimal:
    build:
      context: ..
      dockerfile: docker/Dockerfile.alpine-minimal
    container_name: tsi-test-alpine-minimal
    volumes:
      - ../:/root/tsi-source:ro
    command: /bin/sh -c "cd /root/tsi-source && /bin/sh"

  # Minimal Ubuntu
  ubuntu-minimal:
    build:
      context: ..
      dockerfile: docker/Dockerfile.ubuntu-minimal
    container_name: tsi-test-ubuntu-minimal
    volumes:
      - ../:/root/tsi-source:ro
    command: /bin/sh -c "cd /root/tsi-source && /bin/sh"

  # Alpine with C compiler only (for C version testing)
  alpine-c-only:
    build:
      context: ..
      dockerfile: docker/Dockerfile.alpine-c-only
    container_name: tsi-test-alpine-c-only
    volumes:
      - ../:/root/tsi-source:ro
    command: /bin/sh -c "cd /root/tsi-source && /bin/sh"

